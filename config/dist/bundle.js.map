{"version":3,"sources":["webpack:///webpack/bootstrap c0119a10e58919d67417","webpack:///./src/tickets.ts"],"names":[],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap c0119a10e58919d67417","export class TicketAdvisor {\n  private timetable: JQuery<HTMLElement>;\n  private headerRow: JQuery<HTMLElement>;\n  private rows: JQuery<HTMLElement>;\n  private stops: any[];\n  private cells: any;\n  private clsStops = 'stopChbx';\n  private timeClass = 'stopTime';\n  private distanceClass = 'stopDistance';\n  private infoClass = 'stopInfo';\n  constructor(timetable) {\n    this.timetable = $(timetable);\n    this.rows = this.timetable.find('tbody tr:not([id])');\n    this.stops = [];\n  }\n  public extendTableHeader() {\n    const colHeader = this.timetable.find('thead th').first();\n    const checkboxHeader = $('<th></th>');\n    colHeader.before(checkboxHeader);\n  }\n\n  public extendTableBody() {\n    const idString = 'stopId';\n    let rowInput: JQuery<HTMLElement>;\n    let stopRow: JQuery<HTMLElement>;\n    let i = 0;\n\n    for (; i < this.rows.length; i++) {\n      // add checkbox\n      rowInput = $('<td style=\"text-align: center;\">' +\n        '<input class=\"' + this.clsStops + '\" id=\"' + idString + i +\n        '\" type=\"checkbox\"></td>');\n\n      stopRow = $(this.rows[i]);\n      stopRow.data('id', i);\n\n      stopRow.addClass('stop');\n      $(rowInput).prependTo(stopRow);\n\n      // add time class\n      stopRow.find('td:nth-child(4)').addClass(this.timeClass);\n\n      // add distance class\n      stopRow.find('td:nth-child(5)').addClass(this.distanceClass);\n\n      // add info class\n      stopRow.find('td:nth-child(6)').addClass(this.infoClass);\n    }\n  }\n\n  public extendTable() {\n    this.extendTableHeader();\n    this.extendTableBody();\n  }\n\n  public strToFloat(str: string) {\n    const regexp = /[^0-9.]/g;\n    const result = str.replace(regexp, '');\n    return parseFloat(result);\n  }\n\n  public collectData() {\n    let data: any = null;\n    const stops = $('.stop');\n    let tempString = '';\n    let i = 0;\n    let zone = 1;\n\n    for (; i < stops.length; i++) {\n      data = {};\n      data['id'] = $(stops[i]).data('id');\n      data['zone'] = zone;\n\n      tempString = $(stops[i]).find('.' + this.distanceClass + ' small').text();\n      data['distance'] = this.normalize(tempString);\n\n      tempString = $(stops[i]).find('.' + this.timeClass + ' small').text();\n      data['time'] = this.normalize(tempString);\n\n      tempString = $(stops[i]).find('.' + this.infoClass).text();\n\n      if (tempString.match(/Strefowy/)) {\n        zone++;\n      }\n\n      this.stops.push(data);\n    }\n  }\n\n  public getStops() {\n    return this.stops;\n  }\n\n  private normalize(value) {\n    return (value !== '') ? this.strToFloat(value) : 0;\n  }\n}\n\n// ---------------------------------------------------------------------\n\nconst tickets = new TicketAdvisor('table');\ntickets.extendTable();\ntickets.collectData();\nconsole.table(this.getStops());\n\n\n\n// WEBPACK FOOTER //\n// ./src/tickets.ts"],"sourceRoot":""}